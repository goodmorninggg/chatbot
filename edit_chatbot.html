<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Chatbot</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <main>
        <!-- Edit Chatbot Section -->
        <section class="edit-chatbot">
            <form method="POST">

                <!-- Messages Section -->
                <ul class="messages">
                    {% for message in messages %}
                        <li class="{{ message[1] }}">{{ message[0] }}</li>
                    {% endfor %}
                </ul>
            </form>
            <!-- Publish Chatbot Button -->
            <button id="publish-button" data-chatbot="{{ chatbot }}" user="{{username}}">Publish Chatbot </button>

            <!-- Chatbot Section -->
            <section class="chatbot">
                <!-- Script to set chatbotName (JavaScript section) -->
                <script>
                    const chatbotName = "{{ chatbot }}";
                </script>

                <!-- <div class="chat-history" id="chat-history" user="{{username}}" data-chatbot="{{ chatbot }}"> -->
                    <div class="cat-gory" id="cat-gory" user="{{username}}" data-chatbot="{{ chatbot }}">
                    </div>
                    <div class="chat" id="chat" user="{{username}}" data-chatbot="{{ chatbot }}">
                    </div>
                <!-- </div> -->
                <!-- <div class="question-section"></div> -->
                <div class="user-input">
                    <input type="text" id="user-message" placeholder="Enter a question...">
                    <div class="dropdown-content" id="dropdown-content"  user="{{username}}">
                        <!-- Options will be displayed here -->
                    </div>
                </div>
                <!-- Training Controls Section -->
                <section class="training-controls">
                    <h2>Bot Configuration</h2>
                    <!-- Categories Form -->
                    <div class="categories-form">
                        <h3>Questions categories</h3>
                        <div class="question-categories">
                            <div class="question-category">

                            </div>
                        <button id="add-category-button">Add Category</button>
                        <button id="save-category-button" data-chatbot="{{ chatbot }}">Save Category</button>
                        </div>
                        <h5>Add sub categories</h5>
                        <div id="s-category">
                            <select id="sub-category">
                                <option disabled selected hidden>Select Category</option>
                            </select>
                        </div>
                        <!-- <button id="add-subcategories">save</button> -->
                    </div>

                    <!-- Training Form -->
                    <div class="training-form">
                        <h3>Train the Bot</h3>
                    <div id="choose-category">
                        <h4>Choose Questions Category</h4>
                        <select id="category" data-chatbot="{{ chatbot }}" user="{{username}}" required>
                            <option disabled selected hidden>Select Category</option>
                        </select>
                        <select id="select-sub-category" data-chatbot="{{ chatbot }}" user="{{username}}" required>
                            <option disabled selected hidden>Select Sub-Category</option>
                        </select></div>
                        <div id="training-questions">
                            <div class="training-question">
                                <h4>Enter questions and answers</h4>
                                <input type="text" class="question-input" placeholder="Enter a training question...">
                                <input type="text" class="response-input" placeholder="Enter the bot's response...">
                            </div>
                        </div>
                        <button id="add-question-button">Add Question</button>
                        <button id="train-button" data-chatbot="{{ chatbot }}">Train</button>
                    </div>
                    <!-- Button to display previously stored data -->
                    <button id="show-data-button" data-chatbot="{{ chatbot }}"  user="{{username}}">Show Data</button>

                    <!-- Template to display previous data -->
                    <div id="previous-data-template" style="display: none;">
                        <h3>Previous Data</h3>
                        <ul id="previous-data-list">
                            <!-- Data will be displayed here -->
                        </ul>
                    </div>
                </section>
            </section>
        </section>
    </main>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>